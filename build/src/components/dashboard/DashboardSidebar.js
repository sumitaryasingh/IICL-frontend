import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useState, useCallback, memo } from "react";
import { Link } from "react-router-dom";
import { FaHome, FaUsers, FaUserShield, FaPhoneAlt, FaBars, FaTimes, } from "react-icons/fa";
import { RiArrowDropDownLine } from "react-icons/ri";
import { IoIosPerson } from "react-icons/io";
import styles from "./styles/Sidebar.module.css";
const DashboardSidebar = ({ isOpen, toggleSidebar, }) => {
    const role = localStorage.getItem("role");
    const [dropdowns, setDropdowns] = useState({
        franchise: false,
        batch: false,
        students: false,
        enquiry: false,
        gallery: false,
    });
    const toggleDropdown = useCallback((key) => {
        setDropdowns((prev) => ({ ...prev, [key]: !prev[key] }));
    }, []);
    return (_jsxs(_Fragment, { children: [_jsx("div", { className: styles.hamburger, onClick: toggleSidebar, children: isOpen ? _jsx(FaTimes, {}) : _jsx(FaBars, {}) }), _jsx("div", { className: `${styles.sidebar} ${isOpen ? styles.open : ""}`, children: _jsxs("ul", { className: styles.menu, children: [_jsx("li", { children: _jsxs(Link, { to: "/dashboard", className: styles.menuItem, onClick: toggleSidebar, children: [_jsx(FaHome, { className: styles.icon }), "Home"] }) }), _jsx("li", { children: _jsxs(Link, { to: "/dashboard/profile", className: styles.menuItem, onClick: toggleSidebar, children: [_jsx(FaUserShield, { className: styles.icon }), "Profile"] }) }), role === "admin" && (_jsxs("li", { children: [_jsxs("div", { className: styles.menuItem, onClick: () => toggleDropdown("franchise"), children: [_jsx(FaUsers, { className: styles.icon }), "Franchise Management", _jsx(RiArrowDropDownLine, { className: `${styles.dropIcon} ${dropdowns.franchise ? styles.rotate : ""}` })] }), dropdowns.franchise && (_jsxs("ul", { className: styles.dropdownMenu, children: [_jsx("li", { children: _jsx(Link, { to: "/dashboard/franchise/add", onClick: toggleSidebar, children: "Add Franchise" }) }), _jsx("li", { children: _jsx(Link, { to: "/dashboard/franchise/view", onClick: toggleSidebar, children: "View Franchise" }) })] }))] })), ["admin", "franchise"].includes(role || "") && (_jsxs("li", { children: [_jsxs("div", { className: styles.menuItem, onClick: () => toggleDropdown("batch"), children: [_jsx(FaUsers, { className: styles.icon }), "Batch Management", _jsx(RiArrowDropDownLine, { className: `${styles.dropIcon} ${dropdowns.batch ? styles.rotate : ""}` })] }), dropdowns.batch && (_jsxs("ul", { className: styles.dropdownMenu, children: [_jsx("li", { children: _jsx(Link, { to: "/dashboard/batches/add", onClick: toggleSidebar, children: "Add Batch" }) }), _jsx("li", { children: _jsx(Link, { to: "/dashboard/batches/view", onClick: toggleSidebar, children: "View Batches" }) })] }))] })), _jsxs("li", { children: [_jsxs("div", { className: styles.menuItem, onClick: () => toggleDropdown("students"), children: [_jsx(IoIosPerson, { className: styles.icon }), "Students Management", _jsx(RiArrowDropDownLine, { className: `${styles.dropIcon} ${dropdowns.students ? styles.rotate : ""}` })] }), dropdowns.students && (_jsxs("ul", { className: styles.dropdownMenu, children: [_jsx("li", { children: _jsx(Link, { to: "/dashboard/student/add-student/", onClick: toggleSidebar, children: "Add Student" }) }), _jsx("li", { children: _jsx(Link, { to: "/dashboard/students/view", onClick: toggleSidebar, children: "View Students" }) }), role !== "franchise" && (_jsx("li", { children: _jsx(Link, { to: "/dashboard/students/add-marks", onClick: toggleSidebar, children: "Mark Entry Form" }) }))] }))] }), role === "admin" && (_jsxs("li", { children: [_jsxs("div", { className: styles.menuItem, onClick: () => toggleDropdown("enquiry"), children: [_jsx(FaPhoneAlt, { className: styles.icon }), "Enquiry Management", _jsx(RiArrowDropDownLine, { className: `${styles.dropIcon} ${dropdowns.enquiry ? styles.rotate : ""}` })] }), dropdowns.enquiry && (_jsx("ul", { className: styles.dropdownMenu, children: _jsxs("li", { children: [_jsx(Link, { to: "/dashboard/enquiry/view-franchise", onClick: toggleSidebar, children: "View Franchise Enquiries" }), _jsx(Link, { to: "/dashboard/enquiry/view-contacts", onClick: toggleSidebar, children: "View Contact Enquiries" })] }) }))] })), ["admin", "franchise"].includes(role || "") && (_jsxs("li", { children: [_jsxs("div", { className: styles.menuItem, onClick: () => toggleDropdown("gallery"), children: ["Manage Gallery Photo", _jsx(RiArrowDropDownLine, { className: `${styles.dropIcon} ${dropdowns.gallery ? styles.rotate : ""}` })] }), dropdowns.gallery && (_jsx("ul", { className: styles.dropdownMenu, children: _jsx("li", { children: _jsx(Link, { to: "/dashboard/gallery-photo/add", onClick: toggleSidebar, children: "Add Photo" }) }) }))] }))] }) })] }));
};
export default memo(DashboardSidebar);
